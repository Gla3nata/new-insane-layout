(()=>{"use strict";(()=>{const e=document.querySelector(".popup-repair-types"),t=document.querySelector(".popup-menu"),c=document.querySelectorAll(".link-list-menu a, .link-list-repair a"),r=e?.querySelectorAll(".close");if(!e||!c.length)return;const o=c=>{c.preventDefault(),t&&t.classList.remove("popup--active"),e.classList.add("popup--active")};c.forEach(e=>{e.addEventListener("click",o)}),r&&r.forEach(t=>{t.addEventListener("click",()=>{e.classList.remove("popup--active")})}),e.addEventListener("click",t=>{t.target===e&&e.classList.remove("popup--active")})})(),(()=>{const e=document.querySelector(".header-contacts__arrow"),t=document.querySelector(".header-contacts__phone-number-accord");e&&t&&e.addEventListener("click",()=>{t.classList.toggle("header-contacts__phone-number-accord--active"),e.classList.toggle("header-contacts__arrow--active")})})(),(()=>{const e=document.querySelector(".popup-menu"),t=document.querySelectorAll(".menu__icon, .menu__title"),c=e?.querySelector(".close-menu");if(!e||!t.length)return;const r=()=>{e.classList.toggle("popup--active")};t.forEach(e=>{e.addEventListener("click",r)}),c&&c.addEventListener("click",r)})(),(()=>{const e=document.querySelectorAll('a[href^="#"]'),t=document.querySelector(".popup-menu");e.length&&e.forEach(e=>{e.addEventListener("click",c=>{const r=e.getAttribute("href");if(!r||"#"===r)return;const o=document.querySelector(r);t&&t.classList.contains("popup--active")&&t.classList.remove("popup--active");const n=window.pageYOffset,l=o.getBoundingClientRect().top;let s=null;const a=e=>{null===s&&(s=e);const t=e-s,c=u(t,n,l,800);window.scrollTo(0,c),t<800&&requestAnimationFrame(a)},u=(e,t,c,r)=>(e/=r/2)<1?c/2*e*e+t:-c/2*(--e*(e-2)-1)+t;requestAnimationFrame(a)})})})(),(()=>{const e=document.querySelector("#faq");if(!e)return;const t=e.querySelectorAll(".title_block");t.forEach(e=>{e.addEventListener("click",()=>{const c=e.closest("li");if(!c)return;const r=c.querySelector(".msg");r&&(t.forEach(t=>{t!==e&&(t.closest("li").querySelector(".msg").classList.remove("--active"),t.classList.remove("msg-active"))}),r.classList.toggle("--active"),e.classList.toggle("msg-active"))})})})(),(()=>{const e=document.querySelectorAll('input[name="phone"]');if(!e.length)return;const t=e=>{const t=e.target,c="+7 (___) ___-__-__";let r=0;const o=c.replace(/\D/g,"");let n=t.value.replace(/\D/g,"");var l,s;o.length>=n.length&&(n=o),t.value=c.replace(/./g,e=>/[_\d]/.test(e)&&r<n.length?n.charAt(r++):r>=n.length?"":e),"blur"===e.type&&t.value.length<18?t.value="":(l=t.value.length,(s=t).focus(),s.setSelectionRange(l,l))};e.forEach(e=>{e.addEventListener("input",t),e.addEventListener("blur",t)})})(),document.querySelectorAll("form").forEach(e=>{e.addEventListener("submit",async t=>{t.preventDefault();const c=e.querySelector('input[type="checkbox"]');if(c&&!c.checked)return alert("Необходимо согласие с условиями!"),void c.focus()})})})();